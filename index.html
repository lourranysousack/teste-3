<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VNC Investimentos - Simulador Premium</title>
    <style>
        :root {
            --vnc-blue: #003366;
            --vnc-accent: #007bff;
            --bg-gray: #f4f7f9;
            --white: #ffffff;
            --text-dark: #333;
        }
        body { font-family: 'Segoe UI', Arial, sans-serif; background: var(--bg-gray); margin: 0; color: var(--text-dark); }
        .top-bar { background: var(--white); padding: 15px 0; text-align: center; border-bottom: 1px solid #ddd; font-weight: bold; color: var(--vnc-blue); }
        .hero { background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1560518883-ce09059eeffa?auto=format&fit=crop&w=1200&q=80'); background-size: cover; color: white; text-align: center; padding: 60px 20px; }
        .hero h1 { font-size: 2.5rem; margin: 0; }
        .container { max-width: 1000px; margin: -50px auto 50px; background: var(--white); border-radius: 12px; padding: 30px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        
        /* Grid de Sele√ß√£o */
        .grid-bens { display: grid; grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)); gap: 15px; margin-bottom: 30px; }
        .item-bem { border: 2px solid #eee; border-radius: 10px; padding: 15px; text-align: center; cursor: pointer; transition: 0.3s; }
        .item-bem.active { border-color: var(--vnc-accent); background: #f0f7ff; transform: translateY(-3px); }
        .item-bem span { display: block; font-size: 2rem; margin-bottom: 10px; }

        /* Inputs Estilizados */
        .input-box { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; background: #fafafa; padding: 20px; border-radius: 10px; }
        .field { position: relative; }
        .field label { display: block; font-size: 13px; font-weight: bold; margin-bottom: 5px; color: #666; }
        .field span.prefix { position: absolute; left: 12px; top: 32px; color: #999; }
        .field input { width: 100%; padding: 12px 12px 12px 40px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; font-size: 16px; font-weight: bold; }

        /* Comparativo Modalidades */
        .compare-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-top: 20px; }
        .card { border: 1px solid #e0e0e0; border-radius: 12px; padding: 25px; position: relative; }
        .card.vnc { border-top: 5px solid var(--vnc-accent); background: #f8fbff; }
        .card h3 { margin-top: 0; font-size: 1.1rem; }
        .tag-vnc { position: absolute; top: 10px; right: 10px; background: var(--vnc-accent); color: white; padding: 4px 8px; border-radius: 4px; font-size: 10px; }
        
        .valor-principal { font-size: 1.8rem; font-weight: 900; color: var(--vnc-accent); margin: 15px 0; }
        .detalhes { font-size: 13px; color: #555; border-top: 1px solid #eee; padding-top: 15px; }
        .detalhes div { margin-bottom: 8px; display: flex; justify-content: space-between; }

        /* Formul√°rio de Lead */
        .form-lead { background: #f0f4f8; padding: 25px; border-radius: 12px; margin-top: 40px; text-align: center; }
        .btn-enviar { width: 100%; max-width: 400px; padding: 18px; background: #25D366; color: white; border: none; border-radius: 8px; font-size: 18px; cursor: pointer; font-weight: bold; margin-top: 15px; }
        
        .btn-admin { display: block; margin: 50px auto; background: none; border: none; color: #ccc; font-size: 10px; cursor: pointer; }
        #adminArea { display: none; background: #333; color: #fff; padding: 20px; border-radius: 8px; margin-top: 20px; }

        @media (max-width: 768px) { .compare-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<div class="top-bar">VNC INVESTIMENTOS</div>

<div class="hero">
    <h1>Simulador de Plano Direto</h1>
    <p>Personalize seu parcelamento e agende uma consultoria gratuita.</p>
</div>

<div class="container">
    <div class="grid-bens">
        <div class="item-bem active" onclick="setBem(this, 'Moto', 0.19, 0.40)"><span>üèçÔ∏è</span>Moto</div>
        <div class="item-bem" onclick="setBem(this, 'Carro', 0.21, 0.40)"><span>üöó</span>Carro</div>
        <div class="item-bem" onclick="setBem(this, 'Casa', 0.25, 0.75)"><span>üè†</span>Casa / Lote</div>
        <div class="item-bem" onclick="setBem(this, 'Maquin√°rio', 0.25, 0.75)"><span>üöú</span>Maquin√°rio</div>
        <div class="item-bem" onclick="setBem(this, 'Servi√ßos', 0.22, 0.40)"><span>‚úàÔ∏è</span>Servi√ßos</div>
    </div>

    <div class="input-box">
        <div class="field">
            <label>VALOR DO BEM</label>
            <span class="prefix">R$</span>
            <input type="number" id="vTotal" value="60000" oninput="calcular()">
        </div>
        <div class="field">
            <label>VALOR DA ENTRADA</label>
            <span class="prefix">R$</span>
            <input type="number" id="vEntrada" value="10000" oninput="calcular()">
        </div>
        <div class="field">
            <label>PARCELA DESEJADA</label>
            <span class="prefix">R$</span>
            <input type="number" id="vDesejado" placeholder="Ex: 800" oninput="calcular()">
        </div>
    </div>

    <div class="compare-grid">
        <div class="card">
            <h3>Financiamento Banc√°rio</h3>
            <div id="txtParcelaFinan" class="valor-principal">R$ 0,00</div>
            <div class="detalhes">
                <div><span>Prazo Restrito:</span> <b id="prazoFinanLabel">48 meses</b></div>
                <div><span>Juros sobre valor total:</span> <b id="jurosFinanLabel">40%</b></div>
                <div><span>Requisito:</span> <b>Score Alto</b></div>
            </div>
        </div>

        <div class="card vnc">
            <span class="tag-vnc">RECOMENDADO</span>
            <h3>Plano da Empresa (VNC)</h3>
            <div id="txtParcelaVNC" class="valor-principal">R$ 0,00</div>
            <div class="detalhes">
                <div><span>Aprova√ß√£o:</span> <b>Facilitada (Sem Burocracia)</b></div>
                <div><span>Prazos:</span> <b id="prazoVNCLabel">48 meses</b></div>
                <div><span>Score / Nome Sujo:</span> <b>Aceitamos</b></div>
            </div>
            <input type="range" id="prazoSlider" min="12" max="120" value="48" style="width:100%; margin-top:20px;" oninput="calcular()">
        </div>
    </div>

    <div class="form-lead">
        <h3>Informe seus dados para agendar com um especialista</h3>
        <div class="input-box" style="background:transparent; padding:0; margin-bottom:10px;">
            <div class="field"><label>SEU NOME COMPLETO</label><input type="text" id="nome" placeholder="Ex: Jo√£o Silva" style="padding-left:15px;"></div>
            <div class="field"><label>SEU WHATSAPP</label><input type="tel" id="tel" placeholder="(00) 00000-0000" style="padding-left:15px;"></div>
        </div>
        <button class="btn-enviar" onclick="enviarWhatsApp()">Enviar Simula√ß√£o e Agendar Agora</button>
    </div>

    <button class="btn-admin" onclick="toggleAdmin()">Acesso Administrativo</button>
    <div id="adminArea">
        <h4>Hist√≥rico de Leads</h4>
        <ul id="leadList"></ul>
    </div>
</div>

<script>
    let currentBem = "Moto";
    let taxEmp = 0.19;
    let taxFinan = 0.40;

    function setBem(el, nome, tE, tF) {
        document.querySelectorAll('.item-bem').forEach(i => i.classList.remove('active'));
        el.classList.add('active');
        currentBem = nome;
        taxEmp = tE;
        taxFinan = tF;
        
        const slider = document.getElementById('prazoSlider');
        if(nome === 'Casa' || nome === 'Maquin√°rio') {
            slider.max = 500;
        } else {
            slider.max = 120;
            if(slider.value > 120) slider.value = 120;
        }
        calcular();
    }

    function calcular() {
        const vTotal = parseFloat(document.getElementById('vTotal').value) || 0;
        const vEntrada = parseFloat(document.getElementById('vEntrada').value) || 0;
        const vDesejado = parseFloat(document.getElementById('vDesejado').value) || 0;
        let prazoVNC = parseInt(document.getElementById('prazoSlider').value);
        const saldo = vTotal - vEntrada;

        // Regra de Financiamento
        const prazoFinan = (currentBem === 'Casa' || currentBem === 'Maquin√°rio') ? 350 : 48;
        const totalFinan = saldo + (vTotal * taxFinan);
        const parcelaFinan = (totalFinan / prazoFinan) * 1.023;

        document.getElementById('txtParcelaFinan').innerText = `R$ ${parcelaFinan.toLocaleString('pt-BR', {minimumFractionDigits:2, maximumFractionDigits:2})}`;
        document.getElementById('prazoFinanLabel').innerText = `${prazoFinan} meses`;
        document.getElementById('jurosFinanLabel').innerText = `${(taxFinan*100)}%`;

        // Regra VNC - Se o cliente preencher parcela desejada, calcula o prazo
        const totalVNC = saldo + (vTotal * taxEmp);
        
        if(vDesejado > 200) {
            let prazoSugerido = Math.round(totalVNC / vDesejado);
            if(prazoSugerido > document.getElementById('prazoSlider').max) prazoSugerido = document.getElementById('prazoSlider').max;
            if(prazoSugerido < 12) prazoSugerido = 12;
            document.getElementById('prazoSlider').value = prazoSugerido;
            prazoVNC = prazoSugerido;
        }

        const parcelaVNC = totalVNC / prazoVNC;
        document.getElementById('txtParcelaVNC').innerText = `R$ ${parcelaVNC.toLocaleString('pt-BR', {minimumFractionDigits:2, maximumFractionDigits:2})}`;
        document.getElementById('prazoVNCLabel').innerText = `${prazoVNC}x`;
    }

    function enviarWhatsApp() {
        const nome = document.getElementById('nome').value;
        const tel = document.getElementById('tel').value;
        if(!nome || !tel) { alert("Preencha seus dados!"); return; }

        const log = `${new Date().toLocaleTimeString()} - ${nome} (${tel}) simulou ${currentBem} de R$${document.getElementById('vTotal').value}`;
        let leads = JSON.parse(localStorage.getItem('vnc_leads') || "[]");
        leads.push(log);
        localStorage.setItem('vnc_leads', JSON.stringify(leads));

        const msg = `Ol√° VNC! Me chamo ${nome}. Simulei um(a) ${currentBem} de R$${document.getElementById('vTotal').value} no Plano da Empresa. Ficou em ${document.getElementById('prazoVNCLabel').innerText} de ${document.getElementById('txtParcelaVNC').innerText}. Quero agendar!`;
        window.open(`https://wa.me/5599999999999?text=${encodeURIComponent(msg)}`);
    }

    function toggleAdmin() {
        const area = document.getElementById('adminArea');
        area.style.display = (area.style.display === 'block') ? 'none' : 'block';
        const list = document.getElementById('leadList');
        list.innerHTML = "";
        JSON.parse(localStorage.getItem('vnc_leads') || "[]").forEach(l => {
            let li = document.createElement('li'); li.innerText = l; list.appendChild(li);
        });
    }

    calcular();
</script>
</body>
</html>
